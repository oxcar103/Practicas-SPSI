%%
% Plantilla de Memoria
% Modificación de una plantilla de Latex de Nicolas Diaz para adaptarla 
% al castellano y a las necesidades de escribir informática y matemáticas.
%
% Editada por: Mario Román
%
% License:
% CC BY-NC-SA 3.0 (http://creativecommons.org/licenses/by-nc-sa/3.0/)
%%

%%%%%%%%%%%%%%%%%%%%%
% Thin Sectioned Essay
% LaTeX Template
% Version 1.0 (3/8/13)
%
% This template has been downloaded from:
% http://www.LaTeXTemplates.com
%
% Original Author:
% Nicolas Diaz (nsdiaz@uc.cl) with extensive modifications by:
% Vel (vel@latextemplates.com)
%
% License:
% CC BY-NC-SA 3.0 (http://creativecommons.org/licenses/by-nc-sa/3.0/)
%
%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%	PAQUETES Y CONFIGURACIÓN DEL DOCUMENTO
%----------------------------------------------------------------------------------------

%% Configuración del papel.
% microtype: Tipografía.
% mathpazo: Usa la fuente Palatino.
\documentclass[a4paper, 11pt]{article}
\usepackage[protrusion=true,expansion=true]{microtype}
\usepackage{mathpazo}

% Indentación de párrafos para Palatino
\setlength{\parindent}{0pt}
  \parskip=8pt
\linespread{1.05} % Change line spacing here, Palatino benefits from a slight increase by default


%% Castellano.
% noquoting: Permite uso de comillas no españolas.
% lcroman: Permite la enumeración con numerales romanos en minúscula.
% fontenc: Usa la fuente completa para que pueda copiarse correctamente del pdf.
\usepackage[spanish,es-noquoting,es-lcroman]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\selectlanguage{spanish}

%% Gráficos
\usepackage{graphicx} % Required for including pictures
\usepackage{wrapfig} % Allows in-line images
\usepackage[usenames,dvipsnames]{color} % Coloring code

%% Matemáticas
\usepackage{amsmath}

\makeatletter

% Hipervínculos
\usepackage[hidelinks]{hyperref}

%----------------------------------------------------------------------------------------
%	TÍTULO
%----------------------------------------------------------------------------------------
% Configuraciones para el título.
% El título no debe editarse aquí.
\renewcommand{\maketitle}{
  \begin{flushright} % Right align
  
  {\LARGE\@title} % Increase the font size of the title
  
  \vspace{50pt} % Some vertical space between the title and author name
  
  {\large\@author} % Author name
  \\\@date % Date
  \vspace{40pt} % Some vertical space between the author block and abstract
  \end{flushright}
}

% Título
\title{\textbf{Seguridad y Protección de Sistemas Informáticos (SPSI)}\\ % Title
Criptosistemas Simétricos} % Subtitle

\author{\textsc{Óscar Bermúdez Garrido} % Author
\\{\textit{Universidad de Granada}}} % Institution

\date{\today} % Date


%----------------------------------------------------------------------------------------
%	DOCUMENTO
%----------------------------------------------------------------------------------------

\begin{document}

\maketitle % Print the title section

% Resumen (Descomentar para usarlo)
\renewcommand{\abstractname}{Resumen} % Uncomment to change the name of the abstract to something else

% Índice
{\parskip=2pt
  \tableofcontents
}
\pagebreak

%% Inicio del documento

\section{Creación de los archivos}
	\subsection{Input.bin e Input1.bin}
		Para la creación de input.bin, utilizaremos el comando \href{http://manpages.ubuntu.com/manpages/zesty/en/man1/dd.1.html}
		{\textit{dd}} con entrada \textit{/dev/zero} que es un directorio que sólo aporta 0's. Para la creación de input1.bin
		podríamos usar \href{http://manpages.ubuntu.com/manpages/zesty/en/man1/ghex.1.html}{\textit{ghex}} para modificar
		input.bin y convertirlo en input1.bin añadiendo un 1 en la posición adecuada pero en este caso he usado el comando
		\href{http://manpages.ubuntu.com/manpages/zesty/en/man1/cat.1.html}{\textit{cat}} para poder encargárselo a un script.
		
	\subsection{Claves y vector de inicialización}
		Es fácil encontrar \href{https://en.wikipedia.org/wiki/Weak_key#Weak_keys_in_DES}{claves débiles de DES}. En nuestro
		script, hemos optado por usar \textbf{0x0101010101010101} como clave débil y \textbf{0x011F011F010E010E} como clave
		semidébil.
		
		Para el caso de la clave fuerte, nos basta tomar una clave hexadecimal que no esté en la lista de claves débiles
		mencionadas anteriormente. Optaremos por la clave \textbf{0x2103456789abcdef} % Esta permutación puede parecer casual pero no lo es... (103)
		para el cifrado de los ejercicios 4 en adelante. Y como vector de inicialización hemos usado \textbf{0x67}. % 103=0x67

	\subsection{Resultados}
		Para generar los resultados, nos basta con usar \href{http://manpages.ubuntu.com/manpages/zesty/en/man1/openssl.1ssl.html}
		{\textit{openssl}}:
		
		\begin{small}
			\verb|openssl enc -$mode -K $key -iv $vector -in input.bin -out ./Resultados/input_$mode.bin|
			\verb|openssl enc -$mode -K $key -iv $vector -in input1.bin -out ./Resultados/input1_$mode.bin|
		\end{small}
		
		Englobado todo en un \href{http://manpages.ubuntu.com/manpages/zesty/en/man3/for.3tcl.html}{\textit{for}} para ir
		pasando los parámetros adecuados en cada caso.
		
		La única excepción sería cuando nos piden desencriptar, pero para realizarla, nos basta con usar el parámetro \textit{-d}.
	
\section{Comparación y análisis de los resultados}
	\subsection{Modos ECB, CBC y OFB de DES con claves débil y semi-débil}
	\subsection{Modo ECB de DES con clave fuerte}
	\subsection{Modo CBC de DES con clave fuerte}
	\subsection{Modo ECB de AES-128 y AES-256 con clave fuerte}
	\subsection{Modo CBC de AES-128 y AES-256 con clave fuerte}
	\subsection{Modo OFB de AES-192 con clave fuerte}
	\subsection{Otros cifrados simétricos: Camellia}
	
\end{document}
